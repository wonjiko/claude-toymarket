# /code-review - 로컬 코드 품질 검증

git push 전에 변경된 코드의 품질을 검증합니다.

## 실행 단계

1. **변경 파일 확인**: `git diff --name-only` 로 변경된 파일 목록 확인
2. **ESLint 검사**: `yarn lint` 실행하여 린트 에러 확인
3. **TypeScript 검사**: `yarn typecheck` 실행하여 타입 에러 확인
4. **코드 리뷰**: 변경된 파일을 읽고 CLAUDE.md의 코드 리뷰 기준에 따라 분석

## 검토 기준

- React Hooks 패턴 준수
- 보안 취약점
- Material-UI v4 사용 여부 (금지)
- console.log 존재 여부
- 반복 코드, 유틸 함수화 가능 여부
- 경계값 처리 빈 값, 음수, 최대값 등 엣지 케이스
- 스타일 : ESLint 규칙 준수, camelCase 네이밍
- 타입 정의 : interface/type 정의, any 타입 남용
- null 처리 : optional chaining (`?.`), nullish coalescing (`??`) 사용
- 컴포넌트 : props 타입 정의, key prop 누락, 불필요한 리렌더링
- 이벤트 핸들러 : 핸들러 미구현, dead code 여부
- 상태 관리 : 불필요한 state, derived state 사용 여부
- locale 파일은 리뷰하지 않음

## Side-Effect 분석
- 삭제된 코드 분석: 삭제된 로직이 어떤 역할을 했는지, 그 기능이 다른 곳에서 대체되었는지 확인
- 기존 동작 보존 여부: 변경 전후로 동일한 입력에 대해 동일한 결과가 나오는지 검증
- 엣지 케이스 시나리오: 정상 케이스뿐 아니라 취소, 실패, 빈 값 등 예외 상황에서의 동작 검토
- 콜백/함수 호출 추적: 파라미터로 받은 콜백이 실제로 호출되는지, Dead Code가 없는지 확인
- 타입 변경 영향: 시그니처 변경 시 호출하는 모든 곳에서 호환되는지 검토

## 리뷰 결과 형식

```
## 검증 결과

### 1. ESLint
- [ ] 통과 / 실패 (에러 N개)

### 2. TypeScript
- [ ] 통과 / 실패 (에러 N개)

### 3. 코드 리뷰
- 문제점: ...
- 개선 제안: ...

### 결론 및 분류 기준
| 이모지 | 등급 | 판별 기준                                              |
|--------|------|--------------------------------------------------------|
| 🔴     | P2   | 반드시 수정 필요 - Critical한 이슈만 해당              |
| 🟡     | P3   | 수정 권장 - 높은 확률로 개선해야 하는 이슈             |
| 🟢     | P4   | 의견 - 개선하면 좋지만 안해도 큰 문제 없는 이슈        |
| 🟢     | P5   | 참고/칭찬 - 단순 의견과 개선점, 그리고 칭찬            |
```

## 옵션

빌드 검증이 필요하면 "/code-review 후 빌드도 검증해줘" 라고 요청하세요.
